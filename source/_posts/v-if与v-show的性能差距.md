---
title: v-if与v-show的性能差距
tags:
  - JavaScript
  - ES6
  - 前端
  - Vue
abbrlink: 1e5820a1
date: 2022-04-23 16:09:51
---
### 如果你对v-if与v-show的性能差距上感到疑惑，希望这篇文章可以帮到你
<!-- more -->
1. 什么是v-if/v-show
   * v-if与v-show都是vue的内置指令，用来控制dom元素的显示与隐藏，v-if是删除与重建dom元素，而v-show则是控制dom元素的display属性，vue官网中也有介绍，不了解的小伙伴可以先去看看官方文档，这里不做过多赘述了。
2. 为什么说v-if比v-show更浪费性能呢？
   * 有可能大家刚开始看到这个问题的时候，会想这不是一个答案显而易见的问题吗？因为v-if是删除与重建dom元素，而v-show是控制元素的display属性。删除与重建dom元素肯定比控制样式更浪费性能呀。确实是这样的，那具体的原因是什么呢？
3. 结论
   * 因为每一个dom元素都有大量的无用属性，删除与重建dom元素，都会删除与重建dom元素身上的无用属性，造成性能上的浪费。
   * Vue中因为虚拟DOM与diff算法的存在，可以高效的更新DOM，而虚拟DOM就是将真实DOM抽象成一个js对象，将真实DOM身上的无用属性去掉。
   * v-if的频繁切换，就会造成Vue反复进行创建删除虚拟DOM，如果是子元素还好，要是根节点，Vue会将整个树删除，造成性能上的浪费。
   * 都不用说渲染层面上的重绘重排，在这里v-if已经输了。
4. 如何选择v-if与v-show
   * v-if是惰性的，如果条件为false，那么一上来Vue是不会帮你创建DOM元素的，而v-show不是
   * 如果你是频繁需要切换元素的显示与隐藏，推荐v-show。